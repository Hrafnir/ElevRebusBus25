<!-- Version: #21 -->
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skolerebus!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">

        <div class="tabs">
            <button class="tab-button active" data-tab="rebus">Rebus</button>
            <button class="tab-button" data-tab="map">Kart</button>
        </div>

        <div id="rebus-content" class="tab-content visible">

            <div id="intro-page" class="page visible">
                <h1>Skolerebus!</h1>
                <p>Velkommen! Skriv inn lagkoden deres for å starte spillet.</p>
                <input type="text" id="team-code-input" placeholder="Lagkode (f.eks. LAG1)">
                <button id="start-with-team-code-button">Start Spillet!</button>
                <div class="feedback" id="team-code-feedback"></div>
            </div>

            <div id="geofence-feedback" style="display: none; margin-top: 15px; margin-bottom:10px; padding: 10px; border-radius: 4px; text-align: center; font-weight: 500;">
                Laster posisjonsdata...
            </div>

            <div id="score-display" style="text-align: center; margin-bottom: 15px; font-size: 1.1em; display: none;">
                Poeng: <span id="current-score">0</span>
            </div>

            <!-- POST 1 -->
            <div id="post-1-page" class="page">
                <h2 class="post-title-placeholder">Post 1: Tittel</h2>
                <div class="post-info-section"> <!-- Vises før posten er nådd -->
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;"> <!-- Vises når posten er nådd -->
                    <h3 class="post-task-title-placeholder">Oppgave for Post 1</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 1.</p>
                    <input type="text" class="post-task-input" id="post-1-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="1">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-1"></div>
                    <div class="attempt-counter" id="attempts-1"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 2 -->
            <div id="post-2-page" class="page">
                <h2 class="post-title-placeholder">Post 2: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 2</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 2.</p>
                    <input type="text" class="post-task-input" id="post-2-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="2">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-2"></div>
                    <div class="attempt-counter" id="attempts-2"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 3 -->
            <div id="post-3-page" class="page">
                <h2 class="post-title-placeholder">Post 3: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 3</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 3.</p>
                    <input type="text" class="post-task-input" id="post-3-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="3">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-3"></div>
                    <div class="attempt-counter" id="attempts-3"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 4 -->
            <div id="post-4-page" class="page">
                <h2 class="post-title-placeholder">Post 4: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 4</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 4.</p>
                    <input type="text" class="post-task-input" id="post-4-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="4">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-4"></div>
                    <div class="attempt-counter" id="attempts-4"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 5 -->
            <div id="post-5-page" class="page">
                <h2 class="post-title-placeholder">Post 5: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 5</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 5.</p>
                    <input type="text" class="post-task-input" id="post-5-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="5">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-5"></div>
                    <div class="attempt-counter" id="attempts-5"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 6 -->
            <div id="post-6-page" class="page">
                <h2 class="post-title-placeholder">Post 6: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 6</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 6.</p>
                    <input type="text" class="post-task-input" id="post-6-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="6">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-6"></div>
                    <div class="attempt-counter" id="attempts-6"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 7 -->
            <div id="post-7-page" class="page">
                <h2 class="post-title-placeholder">Post 7: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 7</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 7.</p>
                    <input type="text" class="post-task-input" id="post-7-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="7">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-7"></div>
                    <div class="attempt-counter" id="attempts-7"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 8 -->
            <div id="post-8-page" class="page">
                <h2 class="post-title-placeholder">Post 8: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 8</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 8.</p>
                    <input type="text" class="post-task-input" id="post-8-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="8">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-8"></div>
                    <div class="attempt-counter" id="attempts-8"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 9 -->
            <div id="post-9-page" class="page">
                <h2 class="post-title-placeholder">Post 9: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 9</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 9.</p>
                    <input type="text" class="post-task-input" id="post-9-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="9">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-9"></div>
                    <div class="attempt-counter" id="attempts-9"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- POST 10 -->
            <div id="post-10-page" class="page">
                <h2 class="post-title-placeholder">Post 10: Tittel</h2>
                <div class="post-info-section">
                    <p class="post-info-placeholder">Gå til posten for å se oppgaven.</p>
                </div>
                <div class="post-task-section" style="display: none;">
                    <h3 class="post-task-title-placeholder">Oppgave for Post 10</h3>
                    <p class="post-task-question-placeholder">Her kommer spørsmålet for post 10.</p>
                    <input type="text" class="post-task-input" id="post-10-task-input" placeholder="Skriv svaret ditt her">
                    <button class="check-task-btn" data-post="10">Sjekk Svar</button>
                    <div class="feedback feedback-task" id="feedback-task-10"></div>
                    <div class="attempt-counter" id="attempts-10"></div>
                </div>
                <button class="dev-reset-button">Reset Spill</button>
            </div>

            <!-- Finale-side med tre tilstander -->
            <div id="finale-page" class="page">
                <!-- 1. Info: Vises når alle poster er fullført, før målområdet er nådd -->
                <div id="finale-info-section" style="display: none;">
                    <h1>Alle Poster Fullført!</h1>
                    <p>Bra jobbet! Nå gjenstår det bare å komme seg til målområdet på <strong>Fastland</strong>.</p>
                    <p>Kartet viser veien til mål.</p>
                </div>

                <!-- 2. Unlock: Vises når i målområdet, før korrekt målkode -->
                <div id="finale-unlock-section" style="display: none;">
                    <h1>Du er i Målområdet!</h1>
                    <p>Tast inn målkoden du får av læreren for å avslutte spillet og se resultatene.</p>
                    <input type="text" id="finish-unlock-input" placeholder="Skriv målkoden her" disabled>
                    <button id="finish-unlock-btn" disabled>Registrer Målgang</button>
                    <div class="feedback feedback-unlock" id="feedback-unlock-finish"></div>
                </div>

                <!-- 3. Completed: Vises etter korrekt målkode -->
                <div id="finale-completed-section" style="display: none;">
                    <h1>Spillet er Fullført!</h1>
                    <p>Kjempebra jobba, laget! Dere er i mål!</p>
                    <h3>Resultater:</h3>
                    <p>Total Poengsum: <strong id="final-score">0</strong></p>
                    <p>Total Tid Brukt: <strong id="total-time">00:00</strong></p>
                    <h4>Etappetider:</h4>
                    <ul id="stage-times-list" style="list-style-type: none; padding-left: 0; text-align: left; max-width: 300px; margin: 10px auto;">
                        <!-- Etappe-tider fylles inn av JavaScript -->
                    </ul>
                    <p style="margin-top: 20px;">Meld dere hos læreren på <strong>Fastland</strong>!</p>
                    <button class="dev-reset-button" style="margin-top: 30px;">Spill Igjen?</button>
                </div>
            </div>
        </div>

        <div id="map-content" class="tab-content">
            <h2>Kart over Området</h2>
            <p>Bruk kartet for å finne neste post eller målet. Lykke til!</p>
            <div id="dynamic-map-container"></div>
            <p style="font-size: 0.9em; margin-top: 15px;">(Trykk på 'Rebus'-fanen for å se oppgavene)</p>
        </div>
    </div>

    <script src="script.js"></script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA5qUjSj9WyUKsZPljvHfp9RHd-dUjMblk&callback=initMap">
        <!-- Erstatt med din egen API-nøkkel -->
    </script>

</body>
</html>
<!-- Version: #21 -->
